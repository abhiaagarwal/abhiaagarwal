---

---

<script
    is:inline
    src="https://giscus.app/client.js"
    data-repo="abhiaagarwal/abhiaagarwal"
    data-repo-id="R_kgDOIZa_6w"
    data-category="Comments"
    data-category-id="DIC_kwDOIZa_684CTpsj"
    data-mapping="pathname"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="top"
    data-theme="preferred_color_scheme"
    data-lang="en"
    data-loading="lazy"
    crossorigin="anonymous"
    async></script>

<script>
    function changeGiscusTheme() {
        const theme =
            document.documentElement.getAttribute("data-theme") === "dark"
                ? "dark"
                : "light";

        function sendMessage(message: { setConfig: { theme: string } }) {
            const iframe = document.querySelector("iframe.giscus-frame");
            if (!iframe) return;
            // @ts-expect-error - contentWindow is not typed
            iframe.contentWindow.postMessage(
                { giscus: message },
                "https://giscus.app",
            );
        }

        sendMessage({
            setConfig: {
                theme: theme,
            },
        });
    }

    function waitForGiscusAndSync() {
        const iframe = document.querySelector("iframe.giscus-frame");
        if (iframe) {
            changeGiscusTheme();
        } else {
            setTimeout(waitForGiscusAndSync, 100);
        }
    }

    if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", waitForGiscusAndSync);
    } else {
        waitForGiscusAndSync();
    }

    const observer = new MutationObserver((mutations) => {
        mutations.forEach((mutation) => {
            if (
                mutation.type === "attributes" &&
                mutation.attributeName === "data-theme"
            ) {
                changeGiscusTheme();
            }
        });
    });

    observer.observe(document.documentElement, {
        attributes: true,
        attributeFilter: ["data-theme"],
    });
</script>
